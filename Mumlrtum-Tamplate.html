{block:Options}
<!-- tumblr variables -->
<!-- image options -->
<meta name="image:Header" content=""/>
<meta name="image:Background" content=""/>
<meta name="image:Avatar" content=""/>
<meta name="image:Favicon" content=""/>
<meta name="image:Background Mobile" content=""/>
<!-- font options -->
<meta name="font:Title Font" content="Helvetica Neue"/>
<!-- color options -->
<meta name="color:Background Color 1" content="#1a1f2e"/>
<meta name="color:Background Color 2" content="#0a0c14"/>
<meta name="color:Background Text" content="#ffffff"/>
<meta name="color:Accent" content="#8bc34a"/>
<meta name="color:Post Background" content="#ffffff"/>
<meta name="color:Post Text" content="#1a1a2e"/>
<!-- title font weight -->
<meta name="select:Title Font Weight" content="700" title="Bold">
<meta name="select:Title Font Weight" content="400" title="Regular">
<!--body font options-->
<meta name="select:Body Font" content="Nunito" title="Nunito (Default)">
<meta name="select:Body Font" content="System Default" title="System Default">
<meta name="select:Body Font" content="Helvetica Neue" title="Helvetica Neue">
<meta name="select:Body Font" content="Inter" title="Inter">
<meta name="select:Body Font" content="Roboto" title="Roboto">
<meta name="select:Body Font" content="Open Sans" title="Open Sans">
<meta name="select:Body Font" content="Lato" title="Lato">
<meta name="select:Body Font" content="Poppins" title="Poppins">
<meta name="select:Body Font" content="Montserrat" title="Montserrat">
<meta name="select:Body Font" content="Source Sans Pro" title="Source Sans Pro">
<meta name="select:Body Font" content="Fira Sans" title="Fira Sans">
<meta name="select:Body Font" content="IBM Plex Sans" title="IBM Plex Sans">
<!-- font size -->
<meta name="select:Font Size" content="16px" title="16px (Default)">
<meta name="select:Font Size" content="14px" title="14px">
<meta name="select:Font Size" content="15px" title="15px">
<meta name="select:Font Size" content="18px" title="18px">
<!-- post color scheme -->
<meta name="select:Color Scheme" content="cs0" title="Default Dark">
<meta name="select:Color Scheme" content="cs1" title="Light Mode">
<meta name="select:Color Scheme" content="cs2" title="Sepia">
<!-- background styles -->
<meta name="select:Background" content="solid" title="Solid (Default)">
<meta name="select:Background" content="gradient" title="Gradient">
<meta name="select:Background" content="full" title="Full-Size Image">
<meta name="select:Background" content="repeat" title="Repeat Image">
<!-- avatar shape -->
<meta name="select:Avatar Shape" content="8px" title="Rounded Square">
<meta name="select:Avatar Shape" content="50%" title="Circle">
<meta name="select:Avatar Shape" content="0" title="Square">
<!-- header height -->
<meta name="select:Header Height" content="none" title="Default">
<meta name="select:Header Height" content="150px" title="150px">
<meta name="select:Header Height" content="200px" title="200px">
<meta name="select:Header Height" content="250px" title="250px">
<!-- sidebar width -->
<meta name="select:Sidebar Width" content="280px" title="280px (Default)">
<meta name="select:Sidebar Width" content="240px" title="240px">
<meta name="select:Sidebar Width" content="320px" title="320px">
<!-- sidebar type -->
<meta name="select:Sidebar Location" content="s-left" title="Left (Default)">
<meta name="select:Sidebar Location" content="s-right" title="Right">
<meta name="select:Sidebar Location" content="s-above" title="Above Posts">
<!-- post width -->
<meta name="select:Post Size" content="540px" title="540px (Default)">
<meta name="select:Post Size" content="500px" title="500px">
<meta name="select:Post Size" content="600px" title="600px">
<!-- space between posts -->
<meta name="select:Post Spacing" content="30px" title="30px (Default)">
<meta name="select:Post Spacing" content="20px" title="20px">
<meta name="select:Post Spacing" content="40px" title="40px">
<!-- theme credit style -->
<meta name="select:Theme Credit" content="credit1" title="Footer">
<meta name="select:Theme Credit" content="credit2" title="Hidden">
<!-- boolean options -->
<meta name="if:Endless Scroll" content="1"/>
<meta name="if:Show Post Source" content="1"/>
<meta name="if:Uppercase Sidebar Links" content="0"/>
<meta name="if:Lazy Load Images" content="1"/>
<meta name="if:Show Tags" content="1"/>
<!-- text options -->
<meta name="text:Title" content="My Blog"/>
<meta name="text:Description" content=""/>
<meta name="text:Home Link Title" content="Home"/>
<meta name="text:Ask Link Title" content="Ask"/>
<meta name="text:Submit Link Title" content="Submit"/>
<meta name="text:Archive Link Title" content="Archive"/>
<!-- end tumblr variables -->
{/block:Options}

<html lang="{block:English}en{/block:English}{block:German}de{/block:German}{block:French}fr{/block:French}{block:Spanish}es{/block:Spanish}">
<head>
    <meta charset="utf-8">
    <title>{block:ifTitle}{text:Title}{/block:ifTitle}{block:ifNotTitle}{Title}{/block:ifNotTitle}</title>
    <meta name="description" content="{MetaDescription}">
    <meta property="og:type" content="website">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate" type="application/rss+xml" href="{RSS}">
    <link rel="shortcut icon" href="{block:ifFaviconImage}{image:Favicon}{/block:ifFaviconImage}{block:ifNotFaviconImage}{Favicon}{/block:ifNotFaviconImage}">
    <link rel="apple-touch-icon" href="{block:ifAvatarImage}{image:Avatar}{/block:ifAvatarImage}{Favicon}">
    
    <!-- Google Fonts with display swap for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    {block:IfNotBodyFont}<!-- load default font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    {/block:IfNotBodyFont}
    {block:IfBodyFont}
        {block:IfBodyFontIsInter}<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsInter}
        {block:IfBodyFontIsRoboto}<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsRoboto}
        {block:IfBodyFontIsOpenSans}<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsOpenSans}
        {block:IfBodyFontIsLato}<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap" rel="stylesheet">{/block:IfBodyFontIsLato}
        {block:IfBodyFontIsPoppins}<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsPoppins}
        {block:IfBodyFontIsMontserrat}<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsMontserrat}
        {block:IfBodyFontIsSourceSansPro}<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsSourceSansPro}
        {block:IfBodyFontIsFiraSans}<link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsFiraSans}
        {block:IfBodyFontIsIBMPlexSans}<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600;700&display=swap" rel="stylesheet">{/block:IfBodyFontIsIBMPlexSans}
    {/block:IfBodyFont}
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://static.tumblr.com/zgb0z1w/sMxrdhbet/ocular.css">
    <link rel="stylesheet" href="https://static.tumblr.com/zgb0z1w/dgnrdhapm/ocular-photoset.min.css">
    
    <!-- JavaScript with defer for performance -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" defer></script>
    <script src="https://static.tumblr.com/zgb0z1w/PWhrddf6c/ocular.min.js" defer></script>
    
    {block:IfEndlessScroll}{block:IndexPage}
    <script src="https://static.tumblr.com/zgb0z1w/GlErdhc2z/ocular-endless.min.js" defer></script>
    {/block:IndexPage}{/block:IfEndlessScroll}
    
    <style type="text/css">
        /* ---------- CSS VARIABLES ---------- */
        :root {
            /* Typography */
            --body-font: {block:IfBodyFontIsSystemDefault}-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif{/block:IfBodyFontIsSystemDefault}{block:IfNotBodyFontIsSystemDefault}{select:Body Font}, "Helvetica Neue", Arial, sans-serif{/block:IfNotBodyFontIsSystemDefault};
            --title-font: {font:Title Font}, var(--body-font);
            --font-size: {select:Font Size};
            --title-weight: {select:Title Font Weight};
            
            /* Colors */
            --bg1: {color:Background Color 1};
            --bg2: {color:Background Color 2};
            --bg-text: {color:Background Text};
            --accent: {color:Accent};
            --post-bg: {color:Post Background};
            --post-text: {color:Post Text};
            --post-border: rgba({RGBcolor:Post Text}, 0.1);
            
            /* Layout */
            --avatar-shape: {select:Avatar Shape};
            --header-height: {select:Header Height};
            --sidebar-width: {select:Sidebar Width};
            --post-width: {select:Post Size};
            --post-spacing: {select:Post Spacing};
        }
        
        /* ---------- COLOR SCHEMES ---------- */
        {block:IfColorSchemeIsCs1}
        :root {
            --bg1: #f5f5f5;
            --bg2: #e0e0e0;
            --bg-text: #1a1a2e;
            --post-bg: #ffffff;
            --post-text: #333333;
            --accent: #2e7d32;
        }
        {/block:IfColorSchemeIsCs1}
        
        {block:IfColorSchemeIsCs2}
        :root {
            --bg1: #fbf7e9;
            --bg2: #f0e9d8;
            --bg-text: #5b4636;
            --post-bg: #fff9ef;
            --post-text: #3e2e23;
            --accent: #8b5a2b;
        }
        {/block:IfColorSchemeIsCs2}
        
        /* ---------- RESET & BASE ---------- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--body-font);
            font-size: var(--font-size);
            line-height: 1.6;
            color: var(--bg-text);
            background: var(--bg1);
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        /* Background styles */
        body.gradient {
            background: linear-gradient(135deg, var(--bg1), var(--bg2));
        }
        
        body.full, body.repeat {
            background-image: url("{image:Background}");
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }
        
        body.repeat {
            background-size: auto;
            background-repeat: repeat;
        }
        
        @media (max-width: 768px) and {block:ImageBackgroundMobile}body.full {
            background-image: url("{image:Background Mobile}");
        }{/block:ImageBackgroundMobile}
        
        /* ---------- LAYOUT ---------- */
        main#page-container {
            max-width: calc(var(--sidebar-width) + var(--post-width) + (var(--post-spacing) * 3));
            margin: 0 auto;
            padding: var(--post-spacing);
            display: flex;
            gap: var(--post-spacing);
            align-items: flex-start;
        }
        
        main#page-container.s-right {
            flex-direction: row-reverse;
        }
        
        main#page-container.s-above {
            flex-direction: column;
            align-items: center;
        }
        
        /* ---------- SIDEBAR ---------- */
        section#sidebar {
            width: var(--sidebar-width);
            flex-shrink: 0;
        }
        
        .sidebar {
            background: rgba(var(--RGBbg-text), 0.05);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(var(--RGBbg-text), 0.1);
            position: sticky;
            top: var(--post-spacing);
        }
        
        .header-image {
            margin: -20px -20px 20px -20px;
            border-radius: 12px 12px 0 0;
            overflow: hidden;
            height: var(--header-height);
        }
        
        .header-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .avatar-image {
            width: 100px;
            height: 100px;
            margin: -50px auto 15px;
            border-radius: var(--avatar-shape);
            overflow: hidden;
            border: 3px solid var(--accent);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .avatar-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .sidebar-title {
            font-family: var(--title-font);
            font-weight: var(--title-weight);
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .sidebar-title a {
            color: inherit;
            text-decoration: none;
        }
        
        .sidebar-description {
            text-align: center;
            opacity: 0.8;
            margin-bottom: 20px;
            font-size: 0.95em;
        }
        
        .sidebar-links {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .sidebar-links a {
            padding: 8px 12px;
            border-radius: 6px;
            background: rgba(var(--RGBbg-text), 0.05);
            color: inherit;
            text-decoration: none;
            transition: all 0.2s ease;
            text-transform: {block:IfUppercaseSidebarLinks}uppercase{/block:IfUppercaseSidebarLinks};
            letter-spacing: {block:IfUppercaseSidebarLinks}0.5px{/block:IfUppercaseSidebarLinks};
        }
        
        .sidebar-links a:hover,
        .sidebar-links a.current-page {
            background: var(--accent);
            color: var(--bg1);
            transform: translateX(5px);
        }
        
        /* ---------- POSTS ---------- */
        section#posts {
            flex: 1;
            max-width: var(--post-width);
        }
        
        article.post {
            background: var(--post-bg);
            color: var(--post-text);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--post-border);
            margin-bottom: var(--post-spacing);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        article.post:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }
        
        /* Post content styling */
        .post-header {
            padding: 12px 20px;
            border-bottom: 1px solid var(--post-border);
            background: rgba(0,0,0,0.02);
        }
        
        .post-title {
            padding: 20px 20px 0;
            font-family: var(--title-font);
            font-weight: var(--title-weight);
            font-size: 1.6em;
        }
        
        .post-title a {
            color: inherit;
            text-decoration: none;
        }
        
        .post-title a:hover {
            color: var(--accent);
        }
        
        .image-container {
            position: relative;
            background: rgba(0,0,0,0.05);
            cursor: pointer;
        }
        
        .image-container img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .post-caption {
            padding: 20px;
        }
        
        .post-caption p {
            margin-bottom: 1em;
        }
        
        .post-caption a {
            color: var(--accent);
            text-decoration: none;
        }
        
        .post-caption a:hover {
            text-decoration: underline;
        }
        
        /* Media */
        .video iframe,
        .video video {
            width: 100%;
            aspect-ratio: 16/9;
            display: block;
        }
        
        .audio_player {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(0,0,0,0.02);
        }
        
        .audio_player .seek-art {
            position: relative;
            width: 80px;
            height: 80px;
            flex-shrink: 0;
        }
        
        .audio_player img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }
        
        /* Quote styling */
        .quote {
            font-size: 1.3em;
            font-style: italic;
            padding: 30px 20px;
            background: rgba(var(--RGBaccent), 0.1);
            border-left: 4px solid var(--accent);
            margin: 0;
        }
        
        .quote.long {
            font-size: 1.1em;
        }
        
        .quote-source {
            padding: 0 20px 20px;
            font-weight: 600;
            text-align: right;
        }
        
        /* Chat styling */
        .chat {
            padding: 20px;
        }
        
        .chat-line {
            padding: 8px 12px;
            border-bottom: 1px solid var(--post-border);
        }
        
        .chat-line:last-child {
            border-bottom: none;
        }
        
        .chat-label {
            font-weight: 600;
            margin-right: 5px;
        }
        
        /* Reblog styling */
        .post-reblog-list {
            padding: 0 20px 20px;
        }
        
        .post-reblog-item {
            margin-bottom: 20px;
        }
        
        .post-reblog-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .reblog-item-avatar img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }
        
        .reblog-item-username a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
        }
        
        /* Post metadata */
        .post-metadata {
            padding: 12px 20px;
            border-top: 1px solid var(--post-border);
            border-bottom: 1px solid var(--post-border);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .meta-item {
            color: inherit;
            opacity: 0.6;
            text-decoration: none;
            font-size: 0.9em;
            padding: 4px 8px;
            background: rgba(0,0,0,0.03);
            border-radius: 4px;
        }
        
        .meta-item:hover {
            opacity: 1;
            background: var(--accent);
            color: var(--bg1);
        }
        
        /* Post footer */
        .post-footer {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .post-date-notes a {
            color: inherit;
            text-decoration: none;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .post-date-notes a:hover {
            opacity: 1;
            color: var(--accent);
        }
        
        .post-controls {
            display: flex;
            gap: 8px;
        }
        
        .control iframe {
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .control iframe:hover {
            opacity: 1;
        }
        
        /* Pagination */
        .pagination {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        
        .pagination a {
            padding: 10px 20px;
            background: var(--post-bg);
            color: var(--post-text);
            text-decoration: none;
            border-radius: 8px;
            border: 1px solid var(--post-border);
            transition: all 0.2s ease;
            flex: 1;
            text-align: center;
        }
        
        .pagination a:hover {
            background: var(--accent);
            color: var(--bg1);
            border-color: var(--accent);
        }
        
        .pagination a:not([href]) {
            opacity: 0.3;
            pointer-events: none;
        }
        
        /* Theme credit */
        .theme-credit1 {
            text-align: center;
            margin-top: var(--post-spacing);
            font-size: 0.9em;
        }
        
        .theme-credit1 a {
            color: var(--accent);
            text-decoration: none;
        }
        
        .theme-credit2 {
            display: none;
        }
        
        /* ---------- RESPONSIVE ---------- */
        @media (max-width: 1024px) {
            main#page-container {
                flex-direction: column;
                align-items: center;
            }
            
            section#sidebar {
                width: var(--post-width);
                max-width: 100%;
            }
            
            .sidebar {
                position: relative;
                top: 0;
            }
        }
        
        @media (max-width: 600px) {
            :root {
                --post-spacing: 15px;
            }
            
            main#page-container {
                padding: 0;
            }
            
            article.post {
                border-radius: 0;
            }
            
            .sidebar {
                border-radius: 0;
            }
            
            .header-image {
                border-radius: 0;
            }
        }
        
        /* Loading indicator */
        section#posts[aria-busy="true"]::after {
            content: "";
            display: block;
            width: 40px;
            height: 40px;
            margin: 40px auto;
            border: 3px solid var(--post-border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Lazy loading blur-up effect */
        .image-container img.lazy {
            filter: blur(10px);
            transition: filter 0.3s ease;
        }
        
        .image-container img.loaded {
            filter: blur(0);
        }
        
        {CustomCSS}
    </style>
</head>

<body class="{select:Background} {select:Color Scheme} theme-{select:Theme Credit} {block:IfUppercaseSidebarLinks}uppercase-links{/block:IfUppercaseSidebarLinks}">

<!-- Tumblr Controls -->
<div class="iframe-container">
    <iframe id="new-tumblr-controls" src="" frameborder="0" scrolling="no" name="unified-controls" class="tmblr-iframe tmblr-iframe--unified-controls tmblr-iframe--loaded iframe-controls--desktop"></iframe>
</div>

<main id="page-container" class="{select:Sidebar Location}">
    <!-- Sidebar -->
    <section id="sidebar">
        <div class="sidebar">
            {block:IfHeaderImage}
            <div class="header-image">
                <img src="{image:Header}" alt="{block:IfTitle}{text:Title}{/block:IfTitle}{Title}" loading="lazy">
            </div>
            {/block:IfHeaderImage}
            
            {block:IfAvatarImage}
            <div class="avatar-image">
                <a href="/"><img src="{image:Avatar}" alt="{Name}" loading="lazy"></a>
            </div>
            {/block:IfAvatarImage}
            
            <div class="sidebar-title">
                <a href="/">{block:IfTitle}{text:Title}{/block:IfTitle}{block:IfNotTitle}{Title}{/block:IfNotTitle}</a>
            </div>
            
            {block:IfDescription}
            <div class="sidebar-description">{text:Description}</div>
            {/block:IfDescription}
            
            <div class="sidebar-links">
                <a href="/" class="{block:HomePage}current-page{/block:HomePage}">{block:IfHomeLinkTitle}{text:Home Link Title}{/block:IfHomeLinkTitle}{lang:Home}</a>
                
                {block:AskEnabled}
                <a href="/ask" class="{block:AskPage}current-page{/block:AskPage}">{block:IfAskLinkTitle}{text:Ask Link Title}{/block:IfAskLinkTitle}Ask</a>
                {/block:AskEnabled}
                
                {block:SubmissionsEnabled}
                <a href="/submit" class="{block:SubmitPage}current-page{/block:SubmitPage}">{block:IfSubmitLinkTitle}{text:Submit Link Title}{/block:IfSubmitLinkTitle}Submit</a>
                {/block:SubmissionsEnabled}
                
                <a href="/archive">{block:IfArchiveLinkTitle}{text:Archive Link Title}{/block:IfArchiveLinkTitle}{lang:Archive}</a>
                
                {block:HasPages}{block:Pages}
                <a href="{URL}" class="{CurrentState}">{Label}</a>
                {/block:Pages}{/block:HasPages}
            </div>
        </div>
    </section>

    <!-- Posts -->
    <section id="posts" class="{block:IfLazyLoadImages}lazy-load{/block:IfLazyLoadImages}">
        {block:NoPosts}
        <article class="post">
            <h2 class="post-title" style="padding: 40px; text-align: center;">{lang:This blog has no posts}</h2>
        </article>
        {/block:NoPosts}
        
        {block:Posts}
        <article {block:Date}id="{PostID}"{/block:Date} class="post post-{PostType} {block:Date}has-date{/block:Date}">
            {block:RebloggedFrom}
            <div class="post-header">
                <a class="reblog-link" href="{ReblogParentURL}">
                    <i class="tmblr-icon reblog-icon"></i> {ReblogParentName}
                </a>
            </div>
            {/block:RebloggedFrom}
            
            <!-- Post content -->
            {block:Text}
                {block:Title}<h2 class="post-title"><a href="{Permalink}">{Title}</a></h2>{/block:Title}
            {/block:Text}
            
            {block:Photo}
            <div class="image-container">
                <a href="{Permalink}">
                    <img src="{PhotoURL-HighRes}" alt="{PhotoAlt}" loading="{block:IfLazyLoadImages}lazy{/block:IfLazyLoadImages}">
                </a>
            </div>
            {/block:Photo}
            
            {block:Photoset}
            <div class="photoset-grid" photoset-layout="{PhotosetLayout}">
                {block:Photos}
                <div data-width="{PhotoWidth-HighRes}" data-height="{PhotoHeight-HighRes}" data-lowres="{PhotoURL-500}" data-highres="{PhotoURL-HighRes}">
                    <img src="{PhotoURL-HighRes}" loading="{block:IfLazyLoadImages}lazy{/block:IfLazyLoadImages}">
                </div>
                {/block:Photos}
            </div>
            {/block:Photoset}
            
            {block:Quote}
            <div class="quote {Length}">{Quote}</div>
            {block:Source}<div class="quote-source">‚Äî {Source}</div>{/block:Source}
            {/block:Quote}
            
            {block:Link}
            <div class="link-container {block:Thumbnail}has-thumb{/block:Thumbnail}">
                <a {Target} href="{URL}" class="link-wrapper">
                    {block:Thumbnail}<img src="{Thumbnail-HighRes}" alt="" loading="{block:IfLazyLoadImages}lazy{/block:IfLazyLoadImages}">{/block:Thumbnail}
                    <div class="link-info">
                        {block:Host}<div class="link-host">{Host}</div>{/block:Host}
                        <h3>{Name}</h3>
                        {block:Excerpt}<p>{Excerpt}</p>{/block:Excerpt}
                    </div>
                </a>
            </div>
            {/block:Link}
            
            {block:Chat}
                {block:Title}<h2 class="post-title"><a href="{Permalink}">{Title}</a></h2>{/block:Title}
                <div class="chat">
                    {block:Lines}<div class="chat-line"><span class="chat-label">{block:Label}{Label}{/block:Label}</span> {Line}</div>{/block:Lines}
                </div>
            {/block:Chat}
            
            {block:Audio}
                {AudioPlayer}
                <div class="audio_player {block:AlbumArt}has-art{/block:AlbumArt}">
                    <div class="seek-art">
                        {audio:Seekbar}
                        {block:AlbumArt}<img src="{AlbumArtURL}" alt="" loading="{block:IfLazyLoadImages}lazy{/block:IfLazyLoadImages}">{/block:AlbumArt}
                    </div>
                    {audio:AudioButtons}
                    <div class="audio_info">
                        {block:TrackName}<strong>{TrackName}</strong>{/block:TrackName}
                        {block:Artist}{Artist}{/block:Artist}
                    </div>
                </div>
            {/block:Audio}
            
            {block:Video}
                <div class="video">{Video-500}</div>
            {/block:Video}
            
            {block:Answer}
            <div class="ask-wrapper">
                <div class="ask-question">
                    <img src="{AskerPortraitURL-96}" alt="" class="ask-avatar" loading="lazy">
                    <div class="ask-content">
                        <strong>{Asker}</strong> asked: {Question}
                    </div>
                </div>
                <div class="ask-answer">
                    <img src="{AnswererPortraitURL-96}" alt="" class="ask-avatar" loading="lazy">
                    <div class="ask-content">
                        <strong>{Answerer}</strong> answered: {Answer}
                    </div>
                </div>
            </div>
            {/block:Answer}
            
            <!-- Post caption/content -->
            <div class="post-caption">
                {block:Text}{Body}{/block:Text}
                {block:Photo}{block:Caption}{Caption}{/block:Caption}{/block:Photo}
                {block:Photoset}{block:Caption}{Caption}{/block:Caption}{/block:Photoset}
                {block:Link}{block:Description}{Description}{/block:Description}{/block:Link}
                {block:Audio}{block:Caption}{Caption}{/block:Caption}{/block:Audio}
                {block:Video}{block:Caption}{Caption}{/block:Caption}{/block:Video}
            </div>
            
            {block:RebloggedFrom}
            <div class="post-reblog-list">
                {block:Reblogs}
                <div class="post-reblog-item">
                    <div class="post-reblog-header">
                        <div class="reblog-item-avatar">
                            {block:IsActive}
                            <a href="{Permalink}"><img src="{PortraitURL-64}" alt="{Username}" loading="lazy"></a>
                            {/block:IsActive}
                            {block:IsDeactivated}
                            <img src="{PortraitURL-64}" alt="{Username}">
                            {/block:IsDeactivated}
                        </div>
                        <div class="reblog-item-username">
                            {block:IsActive}<a href="{Permalink}">{Username}</a>{/block:IsActive}
                            {block:IsDeactivated}{Username}{/block:IsDeactivated}
                        </div>
                    </div>
                    {Body}
                </div>
                {/block:Reblogs}
            </div>
            {/block:RebloggedFrom}
            
            {block:Date}
            <!-- Post metadata -->
            <div class="post-metadata">
                {block:HomePage}{block:PinnedPostLabel}<span class="meta-item">üìå Pinned</span>{/block:PinnedPostLabel}{/block:HomePage}
                
                {block:IfShowPostSource}{block:RebloggedFrom}
                <a class="meta-item" href="{ReblogRootURL}">Source: {ReblogRootName}</a>
                {/block:RebloggedFrom}{/block:IfShowPostSource}
                
                {block:IfShowTags}{block:HasTags}{block:Tags}
                <a class="meta-item" href="{TagURL}">#{Tag}</a>
                {/block:Tags}{/block:HasTags}{/block:IfShowTags}
            </div>
            
            <!-- Post footer -->
            <div class="post-footer">
                <div class="post-date-notes">
                    <a class="post-date" href="{Permalink}">{TimeAgo}</a>
                    {block:NoteCount} ¬∑ <a class="post-notes" href="{Permalink}">{NoteCountWithLabel}</a>{/block:NoteCount}
                </div>
                <div class="post-controls">
                    <div class="control">{ReblogButton}</div>
                    <div class="control">{LikeButton}</div>
                </div>
            </div>
            {/block:Date}
        </article>
        
        {block:PermalinkPage}{block:PostNotes}
        <article class="post notes-container">
            {PostNotes-64}
        </article>
        {/block:PostNotes}{/block:PermalinkPage}
        {/block:Posts}
        
        <!-- Pagination -->
        {block:Pagination}
        <div class="pagination">
            <a class="prev" {block:PreviousPage}href="{PreviousPage}"{/block:PreviousPage}>‚Üê {lang:Previous}</a>
            <a class="next" {block:NextPage}href="{NextPage}"{/block:NextPage}>{lang:Next} ‚Üí</a>
        </div>
        {/block:Pagination}
        
        {block:PermalinkPagination}
        <div class="pagination">
            <a class="prev" {block:PreviousPost}href="{PreviousPost}"{/block:PreviousPost}>‚Üê {lang:Previous post}</a>
            <a class="next" {block:NextPost}href="{NextPost}"{/block:NextPost}>{lang:Next post} ‚Üí</a>
        </div>
        {/block:PermalinkPagination}
    </section>
</main>

<!-- Theme Credit (please keep!) -->
<div class="theme-credit1">
    <a href="https://github.com/mirelse/mumblrtum" target="_blank">Theme: MumblrTum by comnsense</a>
</div>

<script>
    // Lightbox functionality
    function lightbox(element) {
        const data = {
            width: element.dataset.width,
            height: element.dataset.height,
            low_res: element.dataset.lowres,
            high_res: element.dataset.highres
        };
        Tumblr.Lightbox.init([data]);
        document.body.classList.add('tumblr_lightbox_active');
    }
    
    // Lazy loading enhancement
    {block:IfLazyLoadImages}
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src || img.src;
                    img.classList.remove('lazy');
                    img.classList.add('loaded');
                    imageObserver.unobserve(img);
                }
            });
        });
        
        document.querySelectorAll('.image-container img[loading="lazy"]').forEach(img => {
            imageObserver.observe(img);
        });
    }
    {/block:IfLazyLoadImages}
</script>

</body>
</html>
